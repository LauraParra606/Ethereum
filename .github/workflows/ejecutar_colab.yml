name: Ejecutar Cuaderno

on:
  schedule:
    - cron: "0 2 * * *"  # Se ejecuta a las 2:00 AM UTC todos los días
  workflow_dispatch:  # Permite la ejecución manual desde la interfaz de GitHub Actions

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.9  # o la versión que estés usando

      - name: Instalar dependencias
        run: |
          python -m venv venv  # Usar el módulo venv
          source venv/bin/activate
          pip install papermill  # Instalar papermill

      - name: Ejecutar el cuaderno
        run: |
          NOTEBOOK_PATH="Untitled14.ipynb"  # Reemplaza con tu nombre de cuaderno
          OUTPUT_NOTEBOOK="output_cuaderno.ipynb"  # El archivo de salida
          papermill $NOTEBOOK_PATH $OUTPUT_NOTEBOOK  # Ejecuta el cuaderno con papermill
